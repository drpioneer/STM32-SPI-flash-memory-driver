# at45dbXXX

Драйвер для работы с м/сх FLASH-памяти: Adesto AT45DBXXX/ Winbond W25QXX и др.
 
 Источники кода:     https://github.com/nimaltd/45dbxxx  
                     https://github.com/iDiy/AT45DB161D-Drv
                     https://github.com/nimaltd/w25qxx
                     https://github.com/stDstm/Example_STM32F103/tree/master/W25QXX_Flash_SPI_F103
 
  Описание работы:   http://we.easyelectronics.ru/Frankie/spi-programmnyy-pamyat-atmel-dataflash-at45db081d.html  
                     https://eax.me/stm32-spi-flash/  
 
 Настройки SPI в CubeMX для работы с микросхемой FLASH-памяти:  
                     Frame format: Motorola      Data size: 8 bit            First bit: MSB;  
                     CPOL: LOW                   CPHA:      1 Edge  
                     CRC:  Disabled              NSS:       Software  
 
 Особенности работы с FLASH-памятью в данном драйвере:
       - после подачи питания и перед обращением к памяти необходимо сделать гарантированную задержку в 20 миллисекунд
       - обмен данными производится по 4-х проводному интерфейсу SPI в режиме 0
       - организация памяти блочная, доступ к отдельным ячейкам памяти отсутствует
       - операция удаления может быть выполнена только для: чипа или области (сектора или страницы памяти)
       - все операции чтения/записи происходят по принципу «чтение-модификация-запись»
       - размер страницы зависит от конкретной м/сх памяти, страницы логически объединяются в сектора и блоки памяти
       - для AT45DBXXX: блок памяти содержит в 8 страниц; сектор памяти содержит 128/256/512/1024 страниц; логическая организация памяти: страница->блок->сектор
       - для W25QXXX:   сектор памяти содержит 16 страниц; блок памяти содержит 256 страниц; логическая организация памяти: страница->сектор->блок
       - в конце кода драйвера прикручены функции-прокладки, необходимые для обеспечения совместной работы с LittleFS
